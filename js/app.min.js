function getMenusData(e){var t=showGetResult(e);var n=CSV2JSON(t);var r=$.parseJSON(n);return r}function getCookie(e){var t=document.cookie.indexOf(e+"=");var n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length)){return null}if(t==-1)return null;var r=document.cookie.indexOf(";",n);if(r==-1)r=document.cookie.length;return unescape(document.cookie.substring(n,r))}function setCookie(e,t,n,r,i,s){var o=new Date;o.setTime(o.getTime());if(n){n=n*1e3*60*60*24}var u=new Date(o.getTime()+n);document.cookie=e+"="+escape(t)+(n?";expires="+u.toGMTString():"")+(r?";path="+r:"")+(i?";domain="+i:"")+(s?";secure":"")}function delCookie(e,t,n){if(getCookie(e))document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}function CSVToArray(e,t){t=t||",";var n=new RegExp("(\\"+t+"|\\r?\\n|\\r|^)"+'(?:"([^"]*(?:""[^"]*)*)"|'+'([^"\\'+t+"\\r\\n]*))","gi");var r=[[]];var i=null;while(i=n.exec(e)){var s=i[1];if(s.length&&s!=t){r.push([])}if(i[2]){var o=i[2].replace(new RegExp('""',"g"),'"')}else{var o=i[3]}r[r.length-1].push(o)}return r}function CSV2JSON(e){var t=CSVToArray(e);var n=[];for(var r=1;r<t.length-1;r++){n[r-1]={itemno:String(r)};for(var i=0;i<t[0].length&&i<t[r].length;i++){var s=t[0][i];n[r-1][s]=t[r][i]}}var o=JSON.stringify(n);var u=o.replace(/},/g,"},\r\n");return o}function showGetResult(e){var t=null;$.ajax({url:e,type:"get",dataType:"html",async:false,success:function(e){t=e;t=t.replace("시작 날짜","start_date");t=t.replace("시작 시간","start_time");t=t.replace("끝 날짜","end_date");t=t.replace("끝 시간","end_time");t=t.replace("제목","subject");t=t.replace("설명","description")}});return t}function date2itemno(){var e=new Date;var t=new Array(99,1,4,7,10,13,99);var n=t[e.getDay()];var r=e.getHours();if(r>=9){n+=1}if(r>=13){n+=1}if(n>=16){n=1}return String(n)}App=Ember.Application.create();App.Router.map(function(){this.resource("menus",function(){this.resource("menu",{path:":itemno"})});this.resource("cafe");this.resource("parking");this.resource("about");this.resource("eatout")});App.Router.reopen({notifyGoogleAnalytics:function(){return ga("send","pageview",{page:this.get("url"),title:this.get("url")})}.on("didTranslation")});App.IndexRoute=Ember.Route.extend({beforeModel:function(){this.transitionTo("menus")}});App.NavigationView=Ember.View.extend({templateName:"navigation",selectedBinding:"controller.selected",NavItemView:Ember.View.extend({tagName:"li",classNameBindings:"isActive:active".w(),isActive:function(){return this.get("item")===this.get("parentView.selected")}.property("item","parentView.selected").cacheable()})});App.MenusView=Ember.View.extend({click:function(){$("html, body").animate({scrollTop:0},600)}});var MenusData=getMenusData("menu/csv_export_utf8.csv");App.MenusRoute=Ember.Route.extend({model:function(){return MenusData},actions:{menunow:function(){this.transitionTo("menu",date2itemno())}}});App.MenuRoute=Ember.Route.extend({model:function(e){return MenusData.findBy("itemno",e.itemno)}});Ember.Handlebars.helper("format-date",function(e){var t=new Date(e);var n=new Array("일","월","화","수","목","금","토");var r=n[t.getDay()];return new Ember.Handlebars.SafeString(e+" ("+r+")")});App.CafeController=Ember.Controller.extend({selectedMenuCount:null,selectedMenuItem:null,menusCount:[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"}],menusItem:[{label:"에스프레소",value:"에스프레소"},{label:"아메리카노",value:"아메리카노"},{label:"카푸치노",value:"카푸치노"},{label:"카라멜마키아또",value:"카라멜마키아또"},{label:"카페모카",value:"카페모카"},{label:"-------",value:null},{label:"카페라떼",value:"카페라떼"},{label:"바닐라라떼",value:"바닐라라떼"},{label:"녹차라떼",value:"녹차라떼"},{label:"고구마라떼",value:"고구마라떼"},{label:"-------",value:null},{label:"카모마일",value:"카모마일"},{label:"페퍼민트",value:"페퍼민트"},{label:"-------",value:null},{label:"우유",value:"우유"},{label:"아이스티",value:"아이스티"},{label:"율무차",value:"율무차"},{label:"유자차",value:"유자차"},{label:"쌍화차",value:"쌍화차"},{label:"-------",value:null},{label:"오렌지쥬스",value:"오렌지쥬스"},{label:"사과쥬스",value:"사과쥬스"},{label:"자몽쥬스",value:"자몽쥬스"},{label:"-------",value:null},{label:"청포도에이드",value:"청포도에이드 "}],actions:{addCurrentOrder:function(){var e=this.get("selectedMenuItem.value");var t=this.get("selectedMenuCount.value");if(e!=null){var n={item:e,count:t};App.OrderComponent.create(n).appendTo($("#orderlisttable"))}}}});App.OrderComponent=Ember.Component.extend({templateName:"components/cafeOrders",didInsertElement:function(){console.debug("didInsertElement - OrderComponent")},actions:{remove:function(){this.remove()}}});var currentPP=getCookie("parkingplace");App.ParkingController=Ember.Controller.extend({selectedParkingPlace:function(){var e=getCookie("parkingplace");if(e==""){return null}return e},parkingPlaces:[{label:"Reset",value:null},{label:"B2",value:"B2"},{label:"B3",value:"B3"},{label:"B4",value:"B4"}],actions:{setParkingPlace:function(){var e=this.get("selectedParkingPlace.value");if(e!=null){var t={parkingplace:e};App.ParkingComponent.create(t).appendTo($("#parkingTable"));console.debug(e);setCookie("parkingplace",e,2,"926.1kko.com")}else{delCookie("parkingplace")}}},current:currentPP});App.ParkingComponent=Ember.Component.extend({templateName:"components/Parking",didInsertElement:function(){console.debug("didInsertElement - ParkingComponent")},actions:{remove:function(){this.remove()}}})